---
title: ASPP - 5. 알고리즘 정당성 증명
author: aimpugn
date: 2021-08-24 23:00:00+0900
use_math: true
categories: [APSS, algorithms]
---

# 알고리즘 정당성 증명

문제가 복잡해지면 알고리즘이 문제를 해결할 수 있는지 어떻게 알 수 있을까? 단위 테스트? 단위 테스트에 대해 책에서는 아래처럼 설명하고 있다.
  
> 단위 테스트는 알고리즘에 문제가 있음을 증명할 수는 있지만, 알고리즘에 문제가 없음을 증명할 수는 없다

예전엔 이 말이 잘 이해가 안 됐다. 그런데 어려운 문제를 풀려고 이렇게 저렇게 코드를 짜다 보면 '이게 문제를 해결할 수 있을까?'라는 생각이 든다.
'*내가 짜는 알고리즘에 문제가 없어서 모든 테스트 케이스를 통과할 수 있다는 것*을 어떻게 보장하지?'에 대한 자문에 자답하지 못했다.
그러니, 내가 짜는 알고리즘이 어디를 목표로 어떻게, 왜 그렇게 가고 있는지도 모른 채 되는대로 풀었던 셈이다.
풀면 다행이고, 못 풀면 그냥 그 시간 허탕친 셈. 남는 게 없진 않았지만 적었다.

고등학교 수학처럼 알고리즘을 유형에 따라 그냥 외우면 편할 수도 있고, 사실 선 암기 후 이해도 좋은 학습 방법이라 생각하지만, 머리가 굵어졌는지 이제는 그게 잘 안 된다.
코드를 짜면서도 '난 왜 이렇게 코드를 짜지?' 같은 생각이 들면 잘 알지도 못하면서 푸는 척 하는 모습에 그냥 더이상 풀고 싶지가 않아진다.

*각종 수학적 기법*이 동원되어야 한다고 하는데, 당장 이해가 안 가더라도 정리를 할 필요성을 새삼 느낀다.

## 수학적 귀납법과 반복문 불변식

### 수학적 귀납법

- 증명 대상? *반복적인 구조를 갖는 명제들*
- 알고리즘 정당성 증명 시 가장 유용하게 사용되는 기법

#### 수학적 귀납법의 세 단계

##### 단계 나누기

- 증명하고 싶은 사실을 여러 단계로 나눈다
- 귀납이라 함은 반복되는 사실로 일반화 하는 추리 방법이다
  - 흔히 아는 잘못된 일반화인 *백조는 희다, 왜냐하면 이제까지 관측된 백조는 모두 흰색이었으니까*가 대표적이다
  - 그럼 여기서 *백조는 희다*가 증명하고 싶은 사실이면, *백조 하나하나의 색을 확인하는 것*이 단계 나누기다
- 반복문을 돌든, 재귀적으로 호출하든 어떤 식으로든 답을 찾아가는 단위가 있을 것이다. 즉 알고리즘 내에서 같은 패턴으로 반복되는, 시작과 끝이 있는 한 싸이클이 있을 것이다. 그 한 싸이클을 찾아서 정의하는 것으로 이해가 된다.

##### 첫 단계 증명

- 증명하고 싶은 내용이 성립함을 처음 증명하는 것
- 백조를 하나 찾아서 흰 색임을 보이면 된다

##### 귀납 증명

- 한 백조가 흰 색이었고, 다음 백조가 흰 색임을 보이는 것. 즉 반복적으로 발생함을 보이는 과정
- 어느 순간 검은 백조가 나올 것이고, 그러면 증명은 실패한다.

### 반복문 불변식(loop invariant)

- 반복문의 내용이 한 번 실행될 때마다 중간 결과가 답으로 가는 길 위에 잘 있는지를 명시하는 조건
- 반복문이 마지막에 정답을 계산하기 위해서는 항상 이 식이 변하지 않고 성립되어야 한다

#### 반복문 불변식 증명

1. 반복문 진입시에 불변식 성립함을 보인다
2. 반복문 내용이 불변식을 깨뜨리지 않음을 보인다
   - 반복문 내용 시작 시 불변식 성립
   - 반복문 내용 끝날 때 불변식 성립
3. 반복문 종료 시 불변식 성립하면, 정답 구했음을 보인다

```java
/* 불변식은 여기에서 성립 */
while(comeCondition){
  /* 반복문 내용 시작 시 */
            ...
  /* 반복문 내용 끝날 때 */
  /* 불변식은 여기에서도 성립 */
}
```
